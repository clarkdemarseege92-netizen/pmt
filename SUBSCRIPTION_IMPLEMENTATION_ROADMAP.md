# è®¢é˜…ç³»ç»Ÿå®æ–½è·¯çº¿å›¾

åŸºäº [SUBSCRIPTION_PLAN_V8_FINAL.md](SUBSCRIPTION_PLAN_V8_FINAL.md) æ–¹æ¡ˆçš„å®Œæ•´å®æ–½è®¡åˆ’

---

## ğŸ“‹ é¡¹ç›®æ¦‚è§ˆ

### ç›®æ ‡
å®ç°å¼ºåˆ¶è®¢é˜…æ¨¡å‹ï¼ŒåŒ…å«ï¼š
- 4ä¸ªè®¢é˜…ç­‰çº§ï¼ˆåŸºç¡€ç‰ˆ/æ ‡å‡†ç‰ˆ/ä¸“ä¸šç‰ˆ/ä¼ä¸šç‰ˆï¼‰
- 30å¤©å…è´¹è¯•ç”¨æœŸ
- ä½™é¢æ§åˆ¶æ ¸å¿ƒæœåŠ¡ï¼ˆSlip2Goã€ä¼˜æƒ åˆ¸å‘è¡Œã€æ ¸é”€ï¼‰
- äº§å“/ä¼˜æƒ åˆ¸æ•°é‡é™åˆ¶
- æ¨èå¥–åŠ±ç³»ç»Ÿ

### å®šä»·è¡¨

| ç­‰çº§ | æœˆè´¹ | äº§å“ä¸Šé™ | åˆ¸ç§ä¸Šé™ | æ ¸å¿ƒåŠŸèƒ½ |
|-----|------|---------|---------|---------|
| è¯•ç”¨æœŸ | à¸¿0 | 50 | 15 | 30å¤©å…¨åŠŸèƒ½ï¼ˆæ ‡å‡†ç‰ˆï¼‰ |
| åŸºç¡€ç‰ˆ | à¸¿89 | 25 | 8 | POS + åŸºç¡€è®°è´¦ |
| æ ‡å‡†ç‰ˆ | à¸¿169 | 50 | 15 | å®Œæ•´è®°è´¦ + é«˜çº§çœ‹æ¿ |
| ä¸“ä¸šç‰ˆ | à¸¿269 | 100 | 20 | + APP + å¯¼å‡º + æ¨é€ |
| ä¼ä¸šç‰ˆ | à¸¿399 | 200 | 30 | + å‘˜å·¥ + API + è¥é”€ |

**ä½™é¢æ§åˆ¶**ï¼šâ‰¥ à¸¿200 è§£é” Slip2Goã€ä¼˜æƒ åˆ¸å‘è¡Œã€æ ¸é”€ä¸­å¿ƒ

---

## ğŸ¯ å®æ–½é˜¶æ®µ

### é˜¶æ®µ 0ï¼šå‡†å¤‡å·¥ä½œï¼ˆ1-2å¤©ï¼‰

**ç›®æ ‡**ï¼šæ¢³ç†ç°æœ‰ä»£ç ï¼Œäº†è§£å½“å‰ç³»ç»Ÿæ¶æ„

#### ä»»åŠ¡æ¸…å•

- [ ] **0.1 æ•°æ®åº“æ¶æ„åˆ†æ**
  - [ ] æŸ¥çœ‹ç°æœ‰ `merchants` è¡¨ç»“æ„
  - [ ] æŸ¥çœ‹ç°æœ‰ `products` è¡¨ç»“æ„
  - [ ] æŸ¥çœ‹ç°æœ‰ `coupons` è¡¨ç»“æ„
  - [ ] æŸ¥çœ‹ç°æœ‰ `merchant_wallets` è¡¨ç»“æ„
  - [ ] è®°å½•éœ€è¦æ–°å¢/ä¿®æ”¹çš„å­—æ®µ

- [ ] **0.2 ä»£ç åº“åˆ†æ**
  - [ ] æŸ¥çœ‹å•†æˆ·æ³¨å†Œæµç¨‹ä»£ç 
  - [ ] æŸ¥çœ‹äº§å“ç®¡ç†ç›¸å…³ä»£ç 
  - [ ] æŸ¥çœ‹ä¼˜æƒ åˆ¸ç®¡ç†ç›¸å…³ä»£ç 
  - [ ] æŸ¥çœ‹é’±åŒ…/ä½™é¢ç›¸å…³ä»£ç 
  - [ ] è¯†åˆ«éœ€è¦ä¿®æ”¹çš„æ–‡ä»¶è·¯å¾„

- [ ] **0.3 åˆ›å»ºæŠ€æœ¯è®¾è®¡æ–‡æ¡£**
  - [ ] æ•°æ®åº“è¡¨è®¾è®¡
  - [ ] API ç«¯ç‚¹è®¾è®¡
  - [ ] å‰ç«¯ç»„ä»¶è§„åˆ’
  - [ ] çŠ¶æ€ç®¡ç†æ–¹æ¡ˆ

**äº¤ä»˜ç‰©**ï¼š
- `SUBSCRIPTION_TECHNICAL_DESIGN.md`ï¼ˆæŠ€æœ¯è®¾è®¡æ–‡æ¡£ï¼‰

**é¢„ä¼°æ—¶é—´**ï¼š1-2å¤©

---

### é˜¶æ®µ 1ï¼šæ•°æ®åº“è®¾è®¡ä¸è¿ç§»ï¼ˆ2-3å¤©ï¼‰

**ç›®æ ‡**ï¼šå»ºç«‹è®¢é˜…ç³»ç»Ÿçš„æ•°æ®åŸºç¡€

#### 1.1 æ–°å»ºæ•°æ®åº“è¡¨

- [ ] **1.1.1 åˆ›å»º `subscription_plans` è¡¨**
  ```sql
  -- è®¢é˜…æ–¹æ¡ˆè¡¨
  CREATE TABLE subscription_plans (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    name TEXT NOT NULL,                    -- 'trial', 'basic', 'standard', 'professional', 'enterprise'
    display_name JSONB NOT NULL,           -- {"en": "Trial", "th": "à¸—à¸”à¸¥à¸­à¸‡à¹ƒà¸Šà¹‰", "zh": "è¯•ç”¨æœŸ"}
    price DECIMAL(10,2) NOT NULL,          -- æœˆè´¹ï¼ˆæ³°é“¢ï¼‰
    product_limit INTEGER NOT NULL,        -- äº§å“ä¸Šé™
    coupon_type_limit INTEGER NOT NULL,    -- ä¼˜æƒ åˆ¸åˆ¸ç§ä¸Šé™
    features JSONB NOT NULL,               -- åŠŸèƒ½åˆ—è¡¨
    is_active BOOLEAN DEFAULT true,
    created_at TIMESTAMPTZ DEFAULT NOW(),
    updated_at TIMESTAMPTZ DEFAULT NOW()
  );
  ```

- [ ] **1.1.2 åˆ›å»º `merchant_subscriptions` è¡¨**
  ```sql
  -- å•†æˆ·è®¢é˜…è®°å½•è¡¨
  CREATE TABLE merchant_subscriptions (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    merchant_id UUID NOT NULL REFERENCES merchants(id) ON DELETE CASCADE,
    plan_id UUID NOT NULL REFERENCES subscription_plans(id),
    status TEXT NOT NULL,                  -- 'trial', 'active', 'past_due', 'canceled', 'locked'
    trial_start_date TIMESTAMPTZ,          -- è¯•ç”¨æœŸå¼€å§‹æ—¶é—´
    trial_end_date TIMESTAMPTZ,            -- è¯•ç”¨æœŸç»“æŸæ—¶é—´
    current_period_start TIMESTAMPTZ,      -- å½“å‰è®¡è´¹å‘¨æœŸå¼€å§‹
    current_period_end TIMESTAMPTZ,        -- å½“å‰è®¡è´¹å‘¨æœŸç»“æŸ
    cancel_at_period_end BOOLEAN DEFAULT false,
    canceled_at TIMESTAMPTZ,
    locked_at TIMESTAMPTZ,                 -- è´¦å·é”å®šæ—¶é—´
    data_retention_until TIMESTAMPTZ,      -- æ•°æ®ä¿ç•™æˆªæ­¢æ—¶é—´ï¼ˆé”å®šå90å¤©ï¼‰
    created_at TIMESTAMPTZ DEFAULT NOW(),
    updated_at TIMESTAMPTZ DEFAULT NOW(),

    UNIQUE(merchant_id)
  );
  ```

- [ ] **1.1.3 åˆ›å»º `subscription_invoices` è¡¨**
  ```sql
  -- è®¢é˜…è´¦å•è¡¨
  CREATE TABLE subscription_invoices (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    merchant_id UUID NOT NULL REFERENCES merchants(id) ON DELETE CASCADE,
    subscription_id UUID NOT NULL REFERENCES merchant_subscriptions(id),
    plan_id UUID NOT NULL REFERENCES subscription_plans(id),
    amount DECIMAL(10,2) NOT NULL,
    status TEXT NOT NULL,                  -- 'pending', 'paid', 'failed', 'refunded'
    period_start TIMESTAMPTZ NOT NULL,
    period_end TIMESTAMPTZ NOT NULL,
    paid_at TIMESTAMPTZ,
    payment_method TEXT,                   -- 'wallet', 'promptpay', etc.
    created_at TIMESTAMPTZ DEFAULT NOW(),
    updated_at TIMESTAMPTZ DEFAULT NOW()
  );
  ```

- [ ] **1.1.4 åˆ›å»º `referral_rewards` è¡¨**
  ```sql
  -- æ¨èå¥–åŠ±è¡¨
  CREATE TABLE referral_rewards (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    referrer_id UUID NOT NULL REFERENCES merchants(id) ON DELETE CASCADE,
    referee_id UUID NOT NULL REFERENCES merchants(id) ON DELETE CASCADE,
    reward_type TEXT NOT NULL,             -- 'signup', '3month_milestone'
    reward_amount DECIMAL(10,2) NOT NULL,
    status TEXT NOT NULL,                  -- 'pending', 'completed', 'expired'
    completed_at TIMESTAMPTZ,
    expires_at TIMESTAMPTZ,
    created_at TIMESTAMPTZ DEFAULT NOW(),

    UNIQUE(referrer_id, referee_id, reward_type)
  );
  ```

#### 1.2 ä¿®æ”¹ç°æœ‰è¡¨

- [ ] **1.2.1 æ‰©å±• `merchants` è¡¨**
  ```sql
  ALTER TABLE merchants
  ADD COLUMN referral_code TEXT UNIQUE,           -- æ¨èç ï¼ˆ6ä½éšæœºï¼‰
  ADD COLUMN referred_by UUID REFERENCES merchants(id),  -- è¢«è°æ¨è
  ADD COLUMN trial_extended BOOLEAN DEFAULT false;       -- è¯•ç”¨æœŸæ˜¯å¦å»¶é•¿

  -- åˆ›å»ºç´¢å¼•
  CREATE INDEX idx_merchants_referral_code ON merchants(referral_code);
  CREATE INDEX idx_merchants_referred_by ON merchants(referred_by);
  ```

- [ ] **1.2.2 ç¡®è®¤ `products` è¡¨æ”¯æŒè®¡æ•°æŸ¥è¯¢**
  ```sql
  -- ç¡®è®¤å­˜åœ¨ merchant_id å’Œç´¢å¼•
  CREATE INDEX IF NOT EXISTS idx_products_merchant_id ON products(merchant_id);
  ```

- [ ] **1.2.3 ç¡®è®¤ `coupons` è¡¨æ”¯æŒè®¡æ•°æŸ¥è¯¢**
  ```sql
  -- ç¡®è®¤å­˜åœ¨ merchant_id å’Œç´¢å¼•
  CREATE INDEX IF NOT EXISTS idx_coupons_merchant_id ON coupons(merchant_id);
  ```

#### 1.3 åˆ›å»ºæ•°æ®åº“å‡½æ•°å’Œè§¦å‘å™¨

- [ ] **1.3.1 åˆ›å»ºè®¢é˜…çŠ¶æ€æ£€æŸ¥å‡½æ•°**
  ```sql
  CREATE OR REPLACE FUNCTION check_subscription_status(p_merchant_id UUID)
  RETURNS TABLE (
    is_active BOOLEAN,
    plan_name TEXT,
    status TEXT,
    features JSONB
  ) AS $$
  BEGIN
    RETURN QUERY
    SELECT
      ms.status IN ('trial', 'active') as is_active,
      sp.name as plan_name,
      ms.status,
      sp.features
    FROM merchant_subscriptions ms
    JOIN subscription_plans sp ON ms.plan_id = sp.id
    WHERE ms.merchant_id = p_merchant_id;
  END;
  $$ LANGUAGE plpgsql;
  ```

- [ ] **1.3.2 åˆ›å»ºä½™é¢æ£€æŸ¥å‡½æ•°**
  ```sql
  CREATE OR REPLACE FUNCTION check_balance_unlock(p_merchant_id UUID)
  RETURNS BOOLEAN AS $$
  DECLARE
    current_balance DECIMAL(10,2);
  BEGIN
    SELECT balance INTO current_balance
    FROM merchant_wallets
    WHERE merchant_id = p_merchant_id;

    RETURN COALESCE(current_balance, 0) >= 200;
  END;
  $$ LANGUAGE plpgsql;
  ```

- [ ] **1.3.3 åˆ›å»ºäº§å“æ•°é‡é™åˆ¶æ£€æŸ¥å‡½æ•°**
  ```sql
  CREATE OR REPLACE FUNCTION check_product_limit(p_merchant_id UUID)
  RETURNS TABLE (
    current_count INTEGER,
    limit_count INTEGER,
    can_create BOOLEAN
  ) AS $$
  DECLARE
    product_count INTEGER;
    product_limit INTEGER;
  BEGIN
    -- è·å–å½“å‰äº§å“æ•°
    SELECT COUNT(*) INTO product_count
    FROM products
    WHERE merchant_id = p_merchant_id AND deleted_at IS NULL;

    -- è·å–è®¢é˜…è®¡åˆ’çš„äº§å“ä¸Šé™
    SELECT sp.product_limit INTO product_limit
    FROM merchant_subscriptions ms
    JOIN subscription_plans sp ON ms.plan_id = sp.id
    WHERE ms.merchant_id = p_merchant_id;

    RETURN QUERY SELECT
      product_count,
      product_limit,
      product_count < product_limit;
  END;
  $$ LANGUAGE plpgsql;
  ```

- [ ] **1.3.4 åˆ›å»ºä¼˜æƒ åˆ¸åˆ¸ç§é™åˆ¶æ£€æŸ¥å‡½æ•°**
  ```sql
  CREATE OR REPLACE FUNCTION check_coupon_type_limit(p_merchant_id UUID)
  RETURNS TABLE (
    current_count INTEGER,
    limit_count INTEGER,
    can_create BOOLEAN
  ) AS $$
  DECLARE
    coupon_count INTEGER;
    coupon_limit INTEGER;
  BEGIN
    -- è·å–å½“å‰ä¼˜æƒ åˆ¸åˆ¸ç§æ•°
    SELECT COUNT(*) INTO coupon_count
    FROM coupons
    WHERE merchant_id = p_merchant_id AND deleted_at IS NULL;

    -- è·å–è®¢é˜…è®¡åˆ’çš„åˆ¸ç§ä¸Šé™
    SELECT sp.coupon_type_limit INTO coupon_limit
    FROM merchant_subscriptions ms
    JOIN subscription_plans sp ON ms.plan_id = sp.id
    WHERE ms.merchant_id = p_merchant_id;

    RETURN QUERY SELECT
      coupon_count,
      coupon_limit,
      coupon_count < coupon_limit;
  END;
  $$ LANGUAGE plpgsql;
  ```

- [ ] **1.3.5 åˆ›å»ºè‡ªåŠ¨ç”Ÿæˆæ¨èç è§¦å‘å™¨**
  ```sql
  CREATE OR REPLACE FUNCTION generate_referral_code()
  RETURNS TRIGGER AS $$
  DECLARE
    new_code TEXT;
    code_exists BOOLEAN;
  BEGIN
    -- ç”Ÿæˆ6ä½éšæœºæ¨èç 
    LOOP
      new_code := upper(substring(md5(random()::text) from 1 for 6));

      -- æ£€æŸ¥æ˜¯å¦å·²å­˜åœ¨
      SELECT EXISTS(SELECT 1 FROM merchants WHERE referral_code = new_code)
      INTO code_exists;

      EXIT WHEN NOT code_exists;
    END LOOP;

    NEW.referral_code := new_code;
    RETURN NEW;
  END;
  $$ LANGUAGE plpgsql;

  CREATE TRIGGER trg_generate_referral_code
  BEFORE INSERT ON merchants
  FOR EACH ROW
  WHEN (NEW.referral_code IS NULL)
  EXECUTE FUNCTION generate_referral_code();
  ```

#### 1.4 åˆå§‹åŒ–è®¢é˜…æ–¹æ¡ˆæ•°æ®

- [ ] **1.4.1 æ’å…¥è®¢é˜…æ–¹æ¡ˆæ•°æ®**
  ```sql
  INSERT INTO subscription_plans (name, display_name, price, product_limit, coupon_type_limit, features) VALUES

  -- è¯•ç”¨æœŸ
  ('trial',
   '{"en": "Trial", "th": "à¸—à¸”à¸¥à¸­à¸‡à¹ƒà¸Šà¹‰", "zh": "è¯•ç”¨æœŸ"}',
   0,
   50,
   15,
   '{
     "pos_system": true,
     "basic_accounting": true,
     "advanced_accounting": true,
     "advanced_dashboard": true,
     "product_management": true,
     "coupon_management": true,
     "order_management": true,
     "review_management": true,
     "shop_design": true,
     "data_export": false,
     "expo_app": false,
     "push_notifications": false,
     "employee_management": false,
     "api_access": false,
     "marketing_tools": false
   }'::jsonb),

  -- åŸºç¡€ç‰ˆ
  ('basic',
   '{"en": "Basic", "th": "à¸à¸·à¹‰à¸™à¸à¸²à¸™", "zh": "åŸºç¡€ç‰ˆ"}',
   89,
   25,
   8,
   '{
     "pos_system": true,
     "basic_accounting": true,
     "advanced_accounting": false,
     "advanced_dashboard": false,
     "product_management": true,
     "coupon_management": true,
     "order_management": true,
     "review_management": true,
     "shop_design": true,
     "data_export": false,
     "expo_app": false,
     "push_notifications": false,
     "employee_management": false,
     "api_access": false,
     "marketing_tools": false
   }'::jsonb),

  -- æ ‡å‡†ç‰ˆ
  ('standard',
   '{"en": "Standard", "th": "à¸¡à¸²à¸•à¸£à¸à¸²à¸™", "zh": "æ ‡å‡†ç‰ˆ"}',
   169,
   50,
   15,
   '{
     "pos_system": true,
     "basic_accounting": true,
     "advanced_accounting": true,
     "advanced_dashboard": true,
     "product_management": true,
     "coupon_management": true,
     "order_management": true,
     "review_management": true,
     "shop_design": true,
     "data_export": false,
     "expo_app": false,
     "push_notifications": false,
     "employee_management": false,
     "api_access": false,
     "marketing_tools": false
   }'::jsonb),

  -- ä¸“ä¸šç‰ˆ
  ('professional',
   '{"en": "Professional", "th": "à¸¡à¸·à¸­à¸­à¸²à¸Šà¸µà¸", "zh": "ä¸“ä¸šç‰ˆ"}',
   269,
   100,
   20,
   '{
     "pos_system": true,
     "basic_accounting": true,
     "advanced_accounting": true,
     "advanced_dashboard": true,
     "product_management": true,
     "coupon_management": true,
     "order_management": true,
     "review_management": true,
     "shop_design": true,
     "data_export": true,
     "expo_app": true,
     "push_notifications": true,
     "employee_management": false,
     "api_access": false,
     "marketing_tools": false
   }'::jsonb),

  -- ä¼ä¸šç‰ˆ
  ('enterprise',
   '{"en": "Enterprise", "th": "à¸­à¸‡à¸„à¹Œà¸à¸£", "zh": "ä¼ä¸šç‰ˆ"}',
   399,
   200,
   30,
   '{
     "pos_system": true,
     "basic_accounting": true,
     "advanced_accounting": true,
     "advanced_dashboard": true,
     "product_management": true,
     "coupon_management": true,
     "order_management": true,
     "review_management": true,
     "shop_design": true,
     "data_export": true,
     "expo_app": true,
     "push_notifications": true,
     "employee_management": true,
     "api_access": true,
     "marketing_tools": true
   }'::jsonb);
  ```

#### 1.5 åˆ›å»ºè¿ç§»æ–‡ä»¶

- [ ] **1.5.1 åˆ›å»º Supabase è¿ç§»æ–‡ä»¶**
  - æ–‡ä»¶åï¼š`supabase/migrations/YYYYMMDD_create_subscription_system.sql`
  - åŒ…å«ä»¥ä¸Šæ‰€æœ‰ SQL è¯­å¥

- [ ] **1.5.2 æµ‹è¯•è¿ç§»**
  - åœ¨æœ¬åœ°å¼€å‘ç¯å¢ƒè¿è¡Œè¿ç§»
  - éªŒè¯æ‰€æœ‰è¡¨å’Œå‡½æ•°æ­£ç¡®åˆ›å»º
  - éªŒè¯åˆå§‹æ•°æ®æ­£ç¡®æ’å…¥

**äº¤ä»˜ç‰©**ï¼š
- `supabase/migrations/YYYYMMDD_create_subscription_system.sql`
- è¿ç§»æµ‹è¯•æŠ¥å‘Š

**é¢„ä¼°æ—¶é—´**ï¼š2-3å¤©

---

### é˜¶æ®µ 2ï¼šServer Actions å¼€å‘ï¼ˆ3-4å¤©ï¼‰

**ç›®æ ‡**ï¼šåˆ›å»ºè®¢é˜…ç³»ç»Ÿçš„åç«¯é€»è¾‘

#### 2.1 è®¢é˜…ç®¡ç† Actions

- [ ] **2.1.1 åˆ›å»º `app/actions/subscriptions/get-plans.ts`**
  ```typescript
  /**
   * è·å–æ‰€æœ‰è®¢é˜…æ–¹æ¡ˆ
   */
  export async function getSubscriptionPlans()
  ```

- [ ] **2.1.2 åˆ›å»º `app/actions/subscriptions/get-current.ts`**
  ```typescript
  /**
   * è·å–å•†æˆ·å½“å‰è®¢é˜…ä¿¡æ¯
   */
  export async function getCurrentSubscription(merchantId: string)
  ```

- [ ] **2.1.3 åˆ›å»º `app/actions/subscriptions/start-trial.ts`**
  ```typescript
  /**
   * å¼€å§‹è¯•ç”¨æœŸï¼ˆå•†æˆ·æ³¨å†Œæ—¶è‡ªåŠ¨è°ƒç”¨ï¼‰
   */
  export async function startTrial(merchantId: string, referralCode?: string)
  ```

- [ ] **2.1.4 åˆ›å»º `app/actions/subscriptions/subscribe.ts`**
  ```typescript
  /**
   * è®¢é˜…ä»˜è´¹æ–¹æ¡ˆ
   */
  export async function subscribeToPlan(
    merchantId: string,
    planId: string,
    paymentMethod: 'wallet' | 'promptpay'
  )
  ```

- [ ] **2.1.5 åˆ›å»º `app/actions/subscriptions/cancel.ts`**
  ```typescript
  /**
   * å–æ¶ˆè®¢é˜…ï¼ˆæœŸæœ«ç”Ÿæ•ˆï¼‰
   */
  export async function cancelSubscription(merchantId: string)
  ```

- [ ] **2.1.6 åˆ›å»º `app/actions/subscriptions/reactivate.ts`**
  ```typescript
  /**
   * é‡æ–°æ¿€æ´»è®¢é˜…ï¼ˆé”å®šçŠ¶æ€ä¸‹è®¢é˜…ï¼‰
   */
  export async function reactivateSubscription(merchantId: string, planId: string)
  ```

#### 2.2 æƒé™æ£€æŸ¥ Actions

- [ ] **2.2.1 åˆ›å»º `app/actions/subscriptions/check-feature.ts`**
  ```typescript
  /**
   * æ£€æŸ¥å•†æˆ·æ˜¯å¦æœ‰æƒé™ä½¿ç”¨æŸåŠŸèƒ½
   */
  export async function checkFeatureAccess(
    merchantId: string,
    feature: string
  ): Promise<{ hasAccess: boolean; reason?: string }>
  ```

- [ ] **2.2.2 åˆ›å»º `app/actions/subscriptions/check-balance-unlock.ts`**
  ```typescript
  /**
   * æ£€æŸ¥ä½™é¢æ˜¯å¦è¶³å¤Ÿè§£é”æ ¸å¿ƒæœåŠ¡
   */
  export async function checkBalanceUnlock(merchantId: string)
  ```

- [ ] **2.2.3 åˆ›å»º `app/actions/subscriptions/check-product-limit.ts`**
  ```typescript
  /**
   * æ£€æŸ¥äº§å“æ•°é‡æ˜¯å¦è¾¾åˆ°ä¸Šé™
   */
  export async function checkProductLimit(merchantId: string)
  ```

- [ ] **2.2.4 åˆ›å»º `app/actions/subscriptions/check-coupon-limit.ts`**
  ```typescript
  /**
   * æ£€æŸ¥ä¼˜æƒ åˆ¸åˆ¸ç§æ˜¯å¦è¾¾åˆ°ä¸Šé™
   */
  export async function checkCouponTypeLimit(merchantId: string)
  ```

#### 2.3 æ¨èå¥–åŠ± Actions

- [ ] **2.3.1 åˆ›å»º `app/actions/referrals/validate-code.ts`**
  ```typescript
  /**
   * éªŒè¯æ¨èç æ˜¯å¦æœ‰æ•ˆ
   */
  export async function validateReferralCode(code: string)
  ```

- [ ] **2.3.2 åˆ›å»º `app/actions/referrals/apply-code.ts`**
  ```typescript
  /**
   * åº”ç”¨æ¨èç ï¼ˆæ³¨å†Œæ—¶ï¼‰
   */
  export async function applyReferralCode(merchantId: string, code: string)
  ```

- [ ] **2.3.3 åˆ›å»º `app/actions/referrals/process-rewards.ts`**
  ```typescript
  /**
   * å¤„ç†æ¨èå¥–åŠ±
   * - è¢«æ¨èäººé¦–æ¬¡è®¢é˜… â†’ æ¨èäººè·å¾— à¸¿50
   * - è¢«æ¨èäººä½¿ç”¨æ»¡3ä¸ªæœˆ â†’ æ¨èäººå†è·å¾— à¸¿50
   */
  export async function processReferralRewards(refereeId: string)
  ```

- [ ] **2.3.4 åˆ›å»º `app/actions/referrals/get-my-referrals.ts`**
  ```typescript
  /**
   * è·å–æˆ‘çš„æ¨èåˆ—è¡¨
   */
  export async function getMyReferrals(merchantId: string)
  ```

#### 2.4 è®¢é˜…è´¦å• Actions

- [ ] **2.4.1 åˆ›å»º `app/actions/subscriptions/create-invoice.ts`**
  ```typescript
  /**
   * åˆ›å»ºè®¢é˜…è´¦å•ï¼ˆè‡ªåŠ¨/æ‰‹åŠ¨ï¼‰
   */
  export async function createSubscriptionInvoice(
    merchantId: string,
    planId: string,
    periodStart: Date,
    periodEnd: Date
  )
  ```

- [ ] **2.4.2 åˆ›å»º `app/actions/subscriptions/pay-invoice.ts`**
  ```typescript
  /**
   * æ”¯ä»˜è®¢é˜…è´¦å•ï¼ˆä»é’±åŒ…æ‰£æ¬¾ï¼‰
   */
  export async function paySubscriptionInvoice(invoiceId: string)
  ```

- [ ] **2.4.3 åˆ›å»º `app/actions/subscriptions/get-invoices.ts`**
  ```typescript
  /**
   * è·å–è®¢é˜…è´¦å•å†å²
   */
  export async function getSubscriptionInvoices(merchantId: string)
  ```

**äº¤ä»˜ç‰©**ï¼š
- `app/actions/subscriptions/` ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶
- `app/actions/referrals/` ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶
- å•å…ƒæµ‹è¯•ï¼ˆå¯é€‰ï¼‰

**é¢„ä¼°æ—¶é—´**ï¼š3-4å¤©

---

### é˜¶æ®µ 3ï¼šå‰ç«¯ç»„ä»¶å¼€å‘ï¼ˆ4-5å¤©ï¼‰

**ç›®æ ‡**ï¼šåˆ›å»ºè®¢é˜…ç³»ç»Ÿçš„ç”¨æˆ·ç•Œé¢

#### 3.1 è®¢é˜…æ–¹æ¡ˆå±•ç¤º

- [ ] **3.1.1 åˆ›å»º `components/subscription/PricingTable.tsx`**
  - è®¢é˜…æ–¹æ¡ˆå¯¹æ¯”è¡¨
  - 4ä¸ªæ–¹æ¡ˆå¡ç‰‡ï¼ˆåŸºç¡€ç‰ˆ/æ ‡å‡†ç‰ˆ/ä¸“ä¸šç‰ˆ/ä¼ä¸šç‰ˆï¼‰
  - åŠŸèƒ½åˆ—è¡¨å¯¹æ¯”
  - "é€‰æ‹©æ–¹æ¡ˆ"æŒ‰é’®

- [ ] **3.1.2 åˆ›å»º `components/subscription/PlanCard.tsx`**
  - å•ä¸ªæ–¹æ¡ˆå¡ç‰‡
  - ä»·æ ¼æ˜¾ç¤º
  - åŠŸèƒ½åˆ—è¡¨
  - "å½“å‰æ–¹æ¡ˆ"æ ‡è®°

#### 3.2 è¯•ç”¨æœŸç›¸å…³

- [ ] **3.2.1 åˆ›å»º `components/subscription/TrialCountdown.tsx`**
  - è¯•ç”¨æœŸå€’è®¡æ—¶æ˜¾ç¤º
  - å‰©ä½™å¤©æ•°æé†’
  - ç´§æ€¥çŠ¶æ€æ ·å¼ï¼ˆâ‰¤7å¤©ã€â‰¤3å¤©ã€â‰¤1å¤©ï¼‰

- [ ] **3.2.2 åˆ›å»º `components/subscription/TrialBanner.tsx`**
  - å…¨å±€æ¨ªå¹…ï¼ˆè¯•ç”¨æœŸæé†’ï¼‰
  - ä¸€é”®è·³è½¬è®¢é˜…é¡µé¢

#### 3.3 è®¢é˜…ç®¡ç†é¡µé¢

- [ ] **3.3.1 åˆ›å»º `app/[locale]/merchant/subscription/page.tsx`**
  - å½“å‰è®¢é˜…çŠ¶æ€å±•ç¤º
  - è®¢é˜…æ–¹æ¡ˆé€‰æ‹©
  - å‡çº§/é™çº§æ“ä½œ
  - å–æ¶ˆè®¢é˜…æ“ä½œ
  - è´¦å•å†å²

- [ ] **3.3.2 åˆ›å»º `components/subscription/CurrentPlanCard.tsx`**
  - å½“å‰æ–¹æ¡ˆä¿¡æ¯
  - åˆ°æœŸæ—¶é—´
  - ä½¿ç”¨æƒ…å†µï¼ˆäº§å“æ•°/åˆ¸ç§æ•°ï¼‰
  - å‡çº§å»ºè®®

- [ ] **3.3.3 åˆ›å»º `components/subscription/UsageProgress.tsx`**
  - äº§å“æ•°é‡è¿›åº¦æ¡ï¼ˆX/50ï¼‰
  - åˆ¸ç§æ•°é‡è¿›åº¦æ¡ï¼ˆX/15ï¼‰
  - æ¥è¿‘ä¸Šé™è­¦å‘Šï¼ˆâ‰¥80%ï¼‰

#### 3.4 æƒé™é™åˆ¶æç¤º

- [ ] **3.4.1 åˆ›å»º `components/subscription/UpgradePrompt.tsx`**
  - è¾¾åˆ°ä¸Šé™æ—¶å¼¹çª—æç¤º
  - "æ‚¨çš„äº§å“å·²è¾¾åˆ°ä¸Šé™ï¼ˆ25/25ï¼‰ï¼Œå‡çº§åˆ°æ ‡å‡†ç‰ˆå¯è·å¾—50ä¸ªäº§å“é¢åº¦"
  - å‡çº§æŒ‰é’®

- [ ] **3.4.2 åˆ›å»º `components/subscription/BalanceLockPrompt.tsx`**
  - ä½™é¢ä¸è¶³æ—¶å¼¹çª—æç¤º
  - "ä½™é¢ä¸è¶³ à¸¿200ï¼ŒSlip2GoéªŒè¯åŠŸèƒ½å·²é”å®š"
  - å……å€¼æŒ‰é’®

- [ ] **3.4.3 åˆ›å»º `components/subscription/FeatureLockedBadge.tsx`**
  - åŠŸèƒ½é”å®šæ ‡è®°
  - æ˜¾ç¤ºåœ¨æœªè®¢é˜…åŠŸèƒ½ä¸Šï¼ˆå¦‚æ•°æ®å¯¼å‡ºã€Expo APPç­‰ï¼‰

#### 3.5 æ¨èç³»ç»Ÿç•Œé¢

- [ ] **3.5.1 åˆ›å»º `app/[locale]/merchant/referrals/page.tsx`**
  - æˆ‘çš„æ¨èç æ˜¾ç¤º
  - æ¨èé“¾æ¥ç”Ÿæˆå’Œå¤åˆ¶
  - æ¨èåˆ—è¡¨ï¼ˆé‚€è¯·äº†è°ã€çŠ¶æ€ã€å¥–åŠ±ï¼‰
  - æ¨èç»Ÿè®¡ï¼ˆæ€»é‚€è¯·æ•°ã€è·å¾—å¥–åŠ±ï¼‰

- [ ] **3.5.2 åˆ›å»º `components/referrals/ReferralCodeCard.tsx`**
  - æ¨èç å¤§å­—æ˜¾ç¤º
  - ä¸€é”®å¤åˆ¶æŒ‰é’®
  - åˆ†äº«é“¾æ¥
  - äºŒç»´ç ç”Ÿæˆ

- [ ] **3.5.3 åˆ›å»º `components/referrals/ReferralList.tsx`**
  - æ¨èåˆ—è¡¨è¡¨æ ¼
  - çŠ¶æ€æ˜¾ç¤ºï¼ˆè¯•ç”¨ä¸­ã€å·²è®¢é˜…ã€å·²è·å¾—å¥–åŠ±ï¼‰

#### 3.6 è´¦å•ç®¡ç†ç•Œé¢

- [ ] **3.6.1 åˆ›å»º `components/subscription/InvoiceList.tsx`**
  - è´¦å•åˆ—è¡¨è¡¨æ ¼
  - æ—¥æœŸã€æ–¹æ¡ˆã€é‡‘é¢ã€çŠ¶æ€
  - æ”¯ä»˜/ä¸‹è½½æŒ‰é’®

- [ ] **3.6.2 åˆ›å»º `components/subscription/InvoiceCard.tsx`**
  - å•ä¸ªè´¦å•å¡ç‰‡
  - è¯¦ç»†ä¿¡æ¯å±•ç¤º

#### 3.7 æ³¨å†Œæµç¨‹ä¿®æ”¹

- [ ] **3.7.1 ä¿®æ”¹ `app/[locale]/merchant/onboarding/page.tsx`**
  - æ·»åŠ æ¨èç è¾“å…¥æ¡†ï¼ˆå¯é€‰ï¼‰
  - æ¨èç éªŒè¯
  - æ˜¾ç¤ºè¯•ç”¨æœŸè¯´æ˜ï¼ˆ30å¤©å…è´¹è¯•ç”¨æ ‡å‡†ç‰ˆï¼‰

**äº¤ä»˜ç‰©**ï¼š
- æ‰€æœ‰å‰ç«¯ç»„ä»¶æ–‡ä»¶
- è®¢é˜…ç®¡ç†é¡µé¢
- æ¨èç³»ç»Ÿé¡µé¢
- æ³¨å†Œæµç¨‹æ›´æ–°

**é¢„ä¼°æ—¶é—´**ï¼š4-5å¤©

---

### é˜¶æ®µ 4ï¼šæƒé™æ§åˆ¶é›†æˆï¼ˆ3-4å¤©ï¼‰

**ç›®æ ‡**ï¼šåœ¨ç°æœ‰åŠŸèƒ½ä¸­é›†æˆè®¢é˜…æƒé™æ£€æŸ¥

#### 4.1 äº§å“ç®¡ç†æƒé™æ§åˆ¶

- [ ] **4.1.1 ä¿®æ”¹äº§å“åˆ›å»ºé€»è¾‘**
  - æ–‡ä»¶ï¼š`app/actions/products/create.ts`ï¼ˆæˆ–ç›¸å…³æ–‡ä»¶ï¼‰
  - åˆ›å»ºå‰æ£€æŸ¥äº§å“æ•°é‡é™åˆ¶
  - è¾¾åˆ°ä¸Šé™è¿”å›é”™è¯¯å¹¶æç¤ºå‡çº§

- [ ] **4.1.2 ä¿®æ”¹äº§å“åˆ—è¡¨é¡µé¢**
  - æ–‡ä»¶ï¼š`app/[locale]/merchant/products/page.tsx`
  - æ˜¾ç¤ºä½¿ç”¨è¿›åº¦ï¼ˆX/50ï¼‰
  - æ¥è¿‘ä¸Šé™æ—¶æ˜¾ç¤ºå‡çº§æç¤º

- [ ] **4.1.3 æ·»åŠ äº§å“åˆ›å»ºæŒ‰é’®ç¦ç”¨é€»è¾‘**
  - è¾¾åˆ°ä¸Šé™æ—¶ç¦ç”¨"æ·»åŠ äº§å“"æŒ‰é’®
  - æ˜¾ç¤º Tooltipï¼š"äº§å“å·²è¾¾ä¸Šé™ï¼Œè¯·å‡çº§è®¢é˜…"

#### 4.2 ä¼˜æƒ åˆ¸ç®¡ç†æƒé™æ§åˆ¶

- [ ] **4.2.1 ä¿®æ”¹ä¼˜æƒ åˆ¸åˆ›å»ºé€»è¾‘**
  - æ–‡ä»¶ï¼š`app/actions/coupons/create.ts`ï¼ˆæˆ–ç›¸å…³æ–‡ä»¶ï¼‰
  - åˆ›å»ºå‰æ£€æŸ¥åˆ¸ç§æ•°é‡é™åˆ¶
  - è¾¾åˆ°ä¸Šé™è¿”å›é”™è¯¯å¹¶æç¤ºå‡çº§

- [ ] **4.2.2 ä¿®æ”¹ä¼˜æƒ åˆ¸åˆ—è¡¨é¡µé¢**
  - æ–‡ä»¶ï¼š`app/[locale]/merchant/coupons/page.tsx`ï¼ˆå¦‚æœå­˜åœ¨ï¼‰
  - æ˜¾ç¤ºä½¿ç”¨è¿›åº¦ï¼ˆX/15ï¼‰
  - æ¥è¿‘ä¸Šé™æ—¶æ˜¾ç¤ºå‡çº§æç¤º

- [ ] **4.2.3 ä¼˜æƒ åˆ¸å‘è¡Œæƒé™æ§åˆ¶**
  - æ£€æŸ¥ä½™é¢ â‰¥ à¸¿200
  - ä½™é¢ä¸è¶³æ—¶ç¦ç”¨"å‘è¡Œä¼˜æƒ åˆ¸"æŒ‰é’®
  - æ˜¾ç¤ºå……å€¼æç¤º

#### 4.3 Slip2Go éªŒè¯æƒé™æ§åˆ¶

- [ ] **4.3.1 ä¿®æ”¹ Slip2Go éªŒè¯é€»è¾‘**
  - æ–‡ä»¶ï¼šéªŒè¯æ”¯ä»˜å‡­è¯çš„ç›¸å…³ä»£ç 
  - éªŒè¯å‰æ£€æŸ¥ä½™é¢ â‰¥ à¸¿200
  - ä½™é¢ä¸è¶³è¿”å›é”™è¯¯

- [ ] **4.3.2 ä¿®æ”¹åº—é“ºç»“ç®—æŒ‰é’®æ˜¾ç¤º**
  - æ–‡ä»¶ï¼šåº—é“ºé¡µé¢ç›¸å…³ä»£ç 
  - ä½™é¢ < à¸¿200 æ—¶éšè—ç»“ç®—æŒ‰é’®
  - æ˜¾ç¤º"å•†æˆ·ä½™é¢ä¸è¶³ï¼Œæš‚æ—¶æ— æ³•ä½¿ç”¨æ‰«ç æ”¯ä»˜"

#### 4.4 æ ¸é”€ä¸­å¿ƒæƒé™æ§åˆ¶

- [ ] **4.4.1 ä¿®æ”¹æ ¸é”€ä¸­å¿ƒè®¿é—®æƒé™**
  - æ–‡ä»¶ï¼š`app/[locale]/merchant/redeem/page.tsx`ï¼ˆå¦‚æœå­˜åœ¨ï¼‰
  - æ£€æŸ¥ä½™é¢ â‰¥ à¸¿200 å’Œè®¢é˜…ç­‰çº§ â‰¥ 2 çº§
  - æƒé™ä¸è¶³æ˜¾ç¤ºé”å®šé¡µé¢

- [ ] **4.4.2 ä¿®æ”¹æ ¸é”€æ“ä½œé€»è¾‘**
  - æ ¸é”€å‰æ£€æŸ¥ä½™é¢å’Œè®¢é˜…çŠ¶æ€
  - æƒé™ä¸è¶³è¿”å›é”™è¯¯

#### 4.5 é«˜çº§åŠŸèƒ½æƒé™æ§åˆ¶

- [ ] **4.5.1 æ•°æ®å¯¼å‡ºåŠŸèƒ½ï¼ˆä¸“ä¸šç‰ˆ+ï¼‰**
  - æ–‡ä»¶ï¼šæ•°æ®å¯¼å‡ºç›¸å…³ä»£ç 
  - æ£€æŸ¥è®¢é˜…ç­‰çº§ â‰¥ professional
  - æƒé™ä¸è¶³æ˜¾ç¤ºå‡çº§æç¤º

- [ ] **4.5.2 å‘˜å·¥ç®¡ç†åŠŸèƒ½ï¼ˆä¼ä¸šç‰ˆï¼‰**
  - æ–‡ä»¶ï¼š`app/[locale]/merchant/staff/page.tsx`
  - æ£€æŸ¥è®¢é˜…ç­‰çº§ = enterprise
  - æƒé™ä¸è¶³æ˜¾ç¤ºå‡çº§æç¤º

- [ ] **4.5.3 API è®¿é—®ï¼ˆä¼ä¸šç‰ˆï¼‰**
  - æ£€æŸ¥è®¢é˜…ç­‰çº§ = enterprise
  - ç”Ÿæˆ API Key å‰éªŒè¯æƒé™

#### 4.6 ä¾§è¾¹æ èœå•æƒé™æ§åˆ¶

- [ ] **4.6.1 ä¿®æ”¹ `components/MerchantSidebar.tsx`**
  - æ ¹æ®è®¢é˜…ç­‰çº§æ˜¾ç¤º/éšè—èœå•é¡¹
  - é”å®šåŠŸèƒ½æ˜¾ç¤ºğŸ”’å›¾æ ‡
  - ç‚¹å‡»é”å®šåŠŸèƒ½è·³è½¬è®¢é˜…é¡µé¢

**äº¤ä»˜ç‰©**ï¼š
- æ‰€æœ‰åŠŸèƒ½çš„æƒé™æ§åˆ¶æ›´æ–°
- å‰ç«¯æç¤ºç»„ä»¶é›†æˆ
- æµ‹è¯•æŠ¥å‘Š

**é¢„ä¼°æ—¶é—´**ï¼š3-4å¤©

---

### é˜¶æ®µ 5ï¼šè‡ªåŠ¨åŒ–ä»»åŠ¡å’Œæé†’ï¼ˆ2-3å¤©ï¼‰

**ç›®æ ‡**ï¼šå®ç°è®¢é˜…ç›¸å…³çš„è‡ªåŠ¨åŒ–æµç¨‹

#### 5.1 è¯•ç”¨æœŸæé†’

- [ ] **5.1.1 åˆ›å»ºè¯•ç”¨æœŸæé†’å®šæ—¶ä»»åŠ¡**
  - ä½¿ç”¨ Vercel Cron Jobs æˆ– Supabase Edge Functions
  - æ¯å¤©æ£€æŸ¥è¯•ç”¨æœŸå³å°†ç»“æŸçš„å•†æˆ·

- [ ] **5.1.2 å®ç°é‚®ä»¶æé†’**
  - æå‰ 7 å¤©å‘é€é‚®ä»¶
  - æå‰ 3 å¤©å‘é€é‚®ä»¶
  - æå‰ 1 å¤©å‘é€é‚®ä»¶
  - åˆ°æœŸå½“å¤©å‘é€é‚®ä»¶

- [ ] **5.1.3 å®ç°ç«™å†…é€šçŸ¥**
  - ä½¿ç”¨å…¨å±€æ¨ªå¹…ç»„ä»¶
  - æ ¹æ®å‰©ä½™å¤©æ•°è°ƒæ•´æé†’æ ·å¼

#### 5.2 è´¦å·é”å®šè‡ªåŠ¨åŒ–

- [ ] **5.2.1 åˆ›å»ºè´¦å·é”å®šå®šæ—¶ä»»åŠ¡**
  - æ¯å¤©æ£€æŸ¥è¯•ç”¨æœŸç»“æŸä½†æœªè®¢é˜…çš„å•†æˆ·
  - è‡ªåŠ¨è®¾ç½® status = 'locked'
  - è®¾ç½® data_retention_until = é”å®šæ—¶é—´ + 90å¤©

- [ ] **5.2.2 å®ç°é”å®šçŠ¶æ€æ‹¦æˆª**
  - Middleware æ£€æŸ¥å•†æˆ·çŠ¶æ€
  - é”å®šçŠ¶æ€é‡å®šå‘åˆ°è®¢é˜…é¡µé¢
  - æ˜¾ç¤º"è´¦å·å·²é”å®š"æç¤º

#### 5.3 è®¢é˜…ç»­è´¹è‡ªåŠ¨åŒ–

- [ ] **5.3.1 åˆ›å»ºç»­è´¹å®šæ—¶ä»»åŠ¡**
  - æ¯å¤©æ£€æŸ¥è®¡è´¹å‘¨æœŸå³å°†ç»“æŸçš„è®¢é˜…
  - è‡ªåŠ¨åˆ›å»ºä¸‹ä¸€æœŸè´¦å•
  - è‡ªåŠ¨ä»é’±åŒ…æ‰£æ¬¾

- [ ] **5.3.2 å®ç°æ‰£æ¬¾å¤±è´¥å¤„ç†**
  - ä½™é¢ä¸è¶³æ—¶è®¾ç½® status = 'past_due'
  - å‘é€å‚¬æ¬¾é€šçŸ¥
  - 3å¤©åä»æœªæ”¯ä»˜ï¼Œé”å®šè´¦å·

#### 5.4 æ¨èå¥–åŠ±è‡ªåŠ¨åŒ–

- [ ] **5.4.1 åˆ›å»ºæ¨èå¥–åŠ±æ£€æŸ¥ä»»åŠ¡**
  - è¢«æ¨èäººé¦–æ¬¡è®¢é˜…æ—¶è§¦å‘
  - ç»™æ¨èäººå‘æ”¾ à¸¿50 å¥–åŠ±
  - è®°å½•åˆ° referral_rewards è¡¨

- [ ] **5.4.2 å®ç°3ä¸ªæœˆé‡Œç¨‹ç¢‘å¥–åŠ±**
  - æ£€æŸ¥è¢«æ¨èäººä½¿ç”¨æ»¡3ä¸ªæœˆ
  - ç»™æ¨èäººå†å‘æ”¾ à¸¿50 å¥–åŠ±

#### 5.5 æ•°æ®æ¸…ç†è‡ªåŠ¨åŒ–

- [ ] **5.5.1 åˆ›å»ºè¿‡æœŸæ•°æ®æ¸…ç†ä»»åŠ¡**
  - æ¯å¤©æ£€æŸ¥ data_retention_until è¿‡æœŸçš„å•†æˆ·
  - åˆ é™¤å•†æˆ·æ•°æ®ï¼ˆäº§å“ã€è®¢å•ã€ä¼˜æƒ åˆ¸ç­‰ï¼‰
  - ä¿ç•™å•†æˆ·è´¦å·å’ŒåŸºæœ¬ä¿¡æ¯ï¼ˆç”¨äºé˜²æ­¢æ¨èç é‡å¤ï¼‰

**äº¤ä»˜ç‰©**ï¼š
- å®šæ—¶ä»»åŠ¡è„šæœ¬ï¼ˆVercel Cron æˆ– Supabase Functionsï¼‰
- é‚®ä»¶æ¨¡æ¿
- è‡ªåŠ¨åŒ–æµ‹è¯•

**é¢„ä¼°æ—¶é—´**ï¼š2-3å¤©

---

### é˜¶æ®µ 6ï¼šå›½é™…åŒ–å’Œç”¨æˆ·ä½“éªŒä¼˜åŒ–ï¼ˆ2å¤©ï¼‰

**ç›®æ ‡**ï¼šå®Œå–„å¤šè¯­è¨€æ”¯æŒå’Œç”¨æˆ·ä½“éªŒ

#### 6.1 å›½é™…åŒ–æ–‡æœ¬

- [ ] **6.1.1 æ·»åŠ è®¢é˜…ç›¸å…³ç¿»è¯‘**
  - æ–‡ä»¶ï¼š`messages/en.json`, `messages/th.json`, `messages/zh.json`
  - è®¢é˜…æ–¹æ¡ˆåç§°
  - åŠŸèƒ½åˆ—è¡¨
  - æç¤ºæ–‡æœ¬
  - é”™è¯¯ä¿¡æ¯

- [ ] **6.1.2 è®¢é˜…ç›¸å…³ç¿»è¯‘ç¤ºä¾‹**
  ```json
  {
    "subscription": {
      "plans": {
        "trial": "è¯•ç”¨æœŸ | Trial | à¸—à¸”à¸¥à¸­à¸‡à¹ƒà¸Šà¹‰",
        "basic": "åŸºç¡€ç‰ˆ | Basic | à¸à¸·à¹‰à¸™à¸à¸²à¸™",
        "standard": "æ ‡å‡†ç‰ˆ | Standard | à¸¡à¸²à¸•à¸£à¸à¸²à¸™",
        "professional": "ä¸“ä¸šç‰ˆ | Professional | à¸¡à¸·à¸­à¸­à¸²à¸Šà¸µà¸",
        "enterprise": "ä¼ä¸šç‰ˆ | Enterprise | à¸­à¸‡à¸„à¹Œà¸à¸£"
      },
      "features": {
        "pos_system": "POSç‚¹é¤ç³»ç»Ÿ | POS System | à¸£à¸°à¸šà¸š POS",
        "accounting": "è®°è´¦åŠŸèƒ½ | Accounting | à¸šà¸±à¸à¸Šà¸µ",
        "data_export": "æ•°æ®å¯¼å‡º | Data Export | à¸ªà¹ˆà¸‡à¸­à¸­à¸à¸‚à¹‰à¸­à¸¡à¸¹à¸¥"
      },
      "prompts": {
        "trial_ending": "è¯•ç”¨æœŸè¿˜å‰©{days}å¤© | Trial ends in {days} days | à¸—à¸”à¸¥à¸­à¸‡à¹ƒà¸Šà¹‰à¹€à¸«à¸¥à¸·à¸­ {days} à¸§à¸±à¸™",
        "upgrade_now": "ç«‹å³å‡çº§ | Upgrade Now | à¸­à¸±à¸à¹€à¸à¸£à¸”à¹€à¸¥à¸¢",
        "product_limit_reached": "äº§å“æ•°é‡å·²è¾¾ä¸Šé™ | Product limit reached | à¸–à¸¶à¸‡à¸‚à¸µà¸”à¸ˆà¸³à¸à¸±à¸”à¸ªà¸´à¸™à¸„à¹‰à¸²"
      }
    }
  }
  ```

#### 6.2 ç”¨æˆ·ä½“éªŒä¼˜åŒ–

- [ ] **6.2.1 æ·»åŠ åŠ è½½çŠ¶æ€**
  - è®¢é˜…æ“ä½œæ—¶æ˜¾ç¤º Loading
  - æ”¯ä»˜å¤„ç†ä¸­ç¦ç”¨æŒ‰é’®

- [ ] **6.2.2 æ·»åŠ æˆåŠŸ/é”™è¯¯æç¤º**
  - ä½¿ç”¨ Toast é€šçŸ¥
  - è®¢é˜…æˆåŠŸã€å‡çº§æˆåŠŸã€æ”¯ä»˜æˆåŠŸç­‰

- [ ] **6.2.3 æ·»åŠ ç¡®è®¤å¯¹è¯æ¡†**
  - å–æ¶ˆè®¢é˜…ç¡®è®¤
  - é™çº§è®¢é˜…ç¡®è®¤ï¼ˆæ•°æ®å¯èƒ½ä¸¢å¤±ï¼‰

- [ ] **6.2.4 æ·»åŠ å¸®åŠ©æ–‡æ¡£**
  - è®¢é˜…æ–¹æ¡ˆå¯¹æ¯”è¯¦ç»†è¯´æ˜
  - å¸¸è§é—®é¢˜è§£ç­”
  - è”ç³»å®¢æœå…¥å£

**äº¤ä»˜ç‰©**ï¼š
- å®Œæ•´çš„å›½é™…åŒ–ç¿»è¯‘æ–‡ä»¶
- ä¼˜åŒ–åçš„ç”¨æˆ·ä½“éªŒ
- å¸®åŠ©æ–‡æ¡£

**é¢„ä¼°æ—¶é—´**ï¼š2å¤©

---

### é˜¶æ®µ 7ï¼šæµ‹è¯•å’Œä¿®å¤ï¼ˆ3-4å¤©ï¼‰

**ç›®æ ‡**ï¼šå…¨é¢æµ‹è¯•è®¢é˜…ç³»ç»Ÿï¼Œä¿®å¤ Bug

#### 7.1 åŠŸèƒ½æµ‹è¯•

- [ ] **7.1.1 æ³¨å†Œæµç¨‹æµ‹è¯•**
  - [ ] æ— æ¨èç æ³¨å†Œ
  - [ ] æœ‰æ¨èç æ³¨å†Œ
  - [ ] æ¨èç éªŒè¯ï¼ˆæœ‰æ•ˆ/æ— æ•ˆï¼‰
  - [ ] è‡ªåŠ¨ç”Ÿæˆæ¨èç 
  - [ ] è‡ªåŠ¨å¼€å§‹è¯•ç”¨æœŸ

- [ ] **7.1.2 è¯•ç”¨æœŸæµ‹è¯•**
  - [ ] è¯•ç”¨æœŸåŠŸèƒ½è®¿é—®
  - [ ] è¯•ç”¨æœŸå€’è®¡æ—¶æ˜¾ç¤º
  - [ ] è¯•ç”¨æœŸæé†’ï¼ˆ7å¤©ã€3å¤©ã€1å¤©ï¼‰
  - [ ] è¯•ç”¨æœŸç»“æŸè‡ªåŠ¨é”å®š

- [ ] **7.1.3 è®¢é˜…æµç¨‹æµ‹è¯•**
  - [ ] é€‰æ‹©è®¢é˜…æ–¹æ¡ˆ
  - [ ] é’±åŒ…ä½™é¢æ”¯ä»˜
  - [ ] è®¢é˜…æˆåŠŸåè§£é”åŠŸèƒ½
  - [ ] è®¢é˜…ä¿¡æ¯æ­£ç¡®æ˜¾ç¤º

- [ ] **7.1.4 æƒé™æ§åˆ¶æµ‹è¯•**
  - [ ] äº§å“æ•°é‡é™åˆ¶
  - [ ] ä¼˜æƒ åˆ¸åˆ¸ç§é™åˆ¶
  - [ ] ä½™é¢è§£é”æ£€æŸ¥ï¼ˆâ‰¥ à¸¿200ï¼‰
  - [ ] é«˜çº§åŠŸèƒ½è®¿é—®æ§åˆ¶
  - [ ] èœå•æ˜¾ç¤º/éšè—

- [ ] **7.1.5 å‡çº§/é™çº§æµ‹è¯•**
  - [ ] å‡çº§åˆ°æ›´é«˜æ–¹æ¡ˆ
  - [ ] é™çº§åˆ°æ›´ä½æ–¹æ¡ˆ
  - [ ] æ•°é‡è¶…é™å¤„ç†ï¼ˆé™çº§æ—¶ï¼‰

- [ ] **7.1.6 æ¨èå¥–åŠ±æµ‹è¯•**
  - [ ] æ¨èç åº”ç”¨
  - [ ] è¯•ç”¨æœŸå»¶é•¿ï¼ˆ30å¤© â†’ 45å¤©ï¼‰
  - [ ] é¦–æ¬¡è®¢é˜…å¥–åŠ±å‘æ”¾
  - [ ] 3ä¸ªæœˆå¥–åŠ±å‘æ”¾
  - [ ] å¥–åŠ±åˆ—è¡¨æ˜¾ç¤º

- [ ] **7.1.7 è´¦å•æµ‹è¯•**
  - [ ] è´¦å•è‡ªåŠ¨ç”Ÿæˆ
  - [ ] è´¦å•æ”¯ä»˜
  - [ ] æ”¯ä»˜å¤±è´¥å¤„ç†
  - [ ] è´¦å•å†å²æ˜¾ç¤º

#### 7.2 è¾¹ç•Œæƒ…å†µæµ‹è¯•

- [ ] **7.2.1 ä½™é¢è¾¹ç•Œæµ‹è¯•**
  - [ ] ä½™é¢åˆšå¥½ à¸¿200
  - [ ] ä½™é¢ à¸¿199.99
  - [ ] ä½™é¢ä¸ºè´Ÿæ•°

- [ ] **7.2.2 æ•°é‡è¾¹ç•Œæµ‹è¯•**
  - [ ] äº§å“æ•°åˆšå¥½è¾¾åˆ°ä¸Šé™
  - [ ] äº§å“æ•°è¶…è¿‡ä¸Šé™ï¼ˆé™çº§åœºæ™¯ï¼‰
  - [ ] åˆ é™¤äº§å“åé‡æ–°è®¡æ•°

- [ ] **7.2.3 æ—¶é—´è¾¹ç•Œæµ‹è¯•**
  - [ ] è¯•ç”¨æœŸæœ€åä¸€å¤©
  - [ ] è®¡è´¹å‘¨æœŸæœ€åä¸€å¤©
  - [ ] è·¨æœˆå¤„ç†

#### 7.3 æ€§èƒ½æµ‹è¯•

- [ ] **7.3.1 æ•°æ®åº“æŸ¥è¯¢ä¼˜åŒ–**
  - [ ] æ£€æŸ¥è®¢é˜…çŠ¶æ€æŸ¥è¯¢æ€§èƒ½
  - [ ] æ£€æŸ¥æƒé™æ£€æŸ¥æŸ¥è¯¢æ€§èƒ½
  - [ ] æ·»åŠ å¿…è¦çš„ç´¢å¼•

- [ ] **7.3.2 å‰ç«¯æ€§èƒ½ä¼˜åŒ–**
  - [ ] ç»„ä»¶æ‡’åŠ è½½
  - [ ] æ•°æ®ç¼“å­˜ç­–ç•¥

#### 7.4 Bug ä¿®å¤

- [ ] **7.4.1 è®°å½•å‘ç°çš„ Bug**
  - åˆ›å»º Bug åˆ—è¡¨æ–‡æ¡£
  - æ ‡æ³¨ä¼˜å…ˆçº§ï¼ˆP0/P1/P2ï¼‰

- [ ] **7.4.2 ä¿®å¤ P0 Bug**
  - é˜»å¡æ€§é—®é¢˜ä¼˜å…ˆä¿®å¤

- [ ] **7.4.3 ä¿®å¤ P1/P2 Bug**
  - å½±å“ç”¨æˆ·ä½“éªŒçš„é—®é¢˜

**äº¤ä»˜ç‰©**ï¼š
- æµ‹è¯•æŠ¥å‘Š
- Bug ä¿®å¤è®°å½•
- æ€§èƒ½ä¼˜åŒ–æŠ¥å‘Š

**é¢„ä¼°æ—¶é—´**ï¼š3-4å¤©

---

### é˜¶æ®µ 8ï¼šæ•°æ®è¿ç§»å’Œä¸Šçº¿ï¼ˆ2-3å¤©ï¼‰

**ç›®æ ‡**ï¼šè¿ç§»ç°æœ‰å•†æˆ·æ•°æ®ï¼Œéƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ

#### 8.1 ç°æœ‰å•†æˆ·æ•°æ®è¿ç§»

- [ ] **8.1.1 åˆ†æç°æœ‰å•†æˆ·æ•°æ®**
  - ç»Ÿè®¡å½“å‰å•†æˆ·æ•°é‡
  - ç»Ÿè®¡å•†æˆ·äº§å“æ•°é‡åˆ†å¸ƒ
  - ç»Ÿè®¡å•†æˆ·ä¼˜æƒ åˆ¸æ•°é‡åˆ†å¸ƒ

- [ ] **8.1.2 åˆ¶å®šè¿ç§»ç­–ç•¥**
  - æ‰€æœ‰ç°æœ‰å•†æˆ·è‡ªåŠ¨è·å¾— 30 å¤©è¯•ç”¨æœŸ
  - è¯•ç”¨æœŸä»è¿ç§»æ—¥æœŸå¼€å§‹è®¡ç®—
  - æˆ–ï¼šæ ¹æ®æ³¨å†Œæ—¶é—´ç»™äºˆåˆç†çš„è¯•ç”¨æœŸ

- [ ] **8.1.3 æ‰§è¡Œæ•°æ®è¿ç§»è„šæœ¬**
  ```sql
  -- ä¸ºæ‰€æœ‰ç°æœ‰å•†æˆ·åˆ›å»ºè¯•ç”¨æœŸè®¢é˜…
  INSERT INTO merchant_subscriptions (merchant_id, plan_id, status, trial_start_date, trial_end_date)
  SELECT
    m.id,
    (SELECT id FROM subscription_plans WHERE name = 'trial'),
    'trial',
    NOW(),
    NOW() + INTERVAL '30 days'
  FROM merchants m
  WHERE NOT EXISTS (
    SELECT 1 FROM merchant_subscriptions WHERE merchant_id = m.id
  );
  ```

- [ ] **8.1.4 éªŒè¯è¿ç§»ç»“æœ**
  - æ£€æŸ¥æ‰€æœ‰å•†æˆ·éƒ½æœ‰è®¢é˜…è®°å½•
  - æ£€æŸ¥æ¨èç ç”Ÿæˆ
  - æ£€æŸ¥æ•°æ®å®Œæ•´æ€§

#### 8.2 ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

- [ ] **8.2.1 è¿è¡Œç”Ÿäº§ç¯å¢ƒè¿ç§»**
  - åœ¨ Supabase ç”Ÿäº§ç¯å¢ƒè¿è¡Œè¿ç§» SQL
  - éªŒè¯è¡¨å’Œå‡½æ•°æ­£ç¡®åˆ›å»º

- [ ] **8.2.2 éƒ¨ç½²åº”ç”¨ä»£ç **
  - åˆå¹¶ä»£ç åˆ°ä¸»åˆ†æ”¯
  - Vercel è‡ªåŠ¨éƒ¨ç½²
  - éªŒè¯éƒ¨ç½²æˆåŠŸ

- [ ] **8.2.3 ç”Ÿäº§ç¯å¢ƒæµ‹è¯•**
  - æµ‹è¯•å…³é”®æµç¨‹
  - éªŒè¯è®¢é˜…åŠŸèƒ½æ­£å¸¸
  - éªŒè¯æƒé™æ§åˆ¶ç”Ÿæ•ˆ

#### 8.3 ç›‘æ§å’Œå‘Šè­¦

- [ ] **8.3.1 è®¾ç½®ç›‘æ§**
  - Vercel Analytics
  - Supabase ç›‘æ§
  - é”™è¯¯è¿½è¸ªï¼ˆSentry ç­‰ï¼‰

- [ ] **8.3.2 è®¾ç½®å‘Šè­¦**
  - è®¢é˜…å¤±è´¥å‘Šè­¦
  - æ”¯ä»˜å¤±è´¥å‘Šè­¦
  - ç³»ç»Ÿé”™è¯¯å‘Šè­¦

#### 8.4 ç”¨æˆ·é€šçŸ¥

- [ ] **8.4.1 å‡†å¤‡é€šçŸ¥æ–‡æ¡ˆ**
  - è®¢é˜…ç³»ç»Ÿä¸Šçº¿é€šçŸ¥
  - è¯•ç”¨æœŸè¯´æ˜
  - å‡çº§å¼•å¯¼

- [ ] **8.4.2 å‘é€ç”¨æˆ·é€šçŸ¥**
  - ç«™å†…é€šçŸ¥
  - é‚®ä»¶é€šçŸ¥ï¼ˆå¯é€‰ï¼‰
  - Facebook ç¾¤ç»„å…¬å‘Šï¼ˆå¯é€‰ï¼‰

**äº¤ä»˜ç‰©**ï¼š
- æ•°æ®è¿ç§»æŠ¥å‘Š
- ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²æ–‡æ¡£
- ç›‘æ§ä»ªè¡¨æ¿

**é¢„ä¼°æ—¶é—´**ï¼š2-3å¤©

---

## ğŸ“Š æ€»ä½“æ—¶é—´è¡¨

| é˜¶æ®µ | ä»»åŠ¡ | é¢„ä¼°æ—¶é—´ | ä¾èµ– |
|-----|------|---------|------|
| é˜¶æ®µ 0 | å‡†å¤‡å·¥ä½œ | 1-2 å¤© | - |
| é˜¶æ®µ 1 | æ•°æ®åº“è®¾è®¡ä¸è¿ç§» | 2-3 å¤© | é˜¶æ®µ 0 |
| é˜¶æ®µ 2 | Server Actions å¼€å‘ | 3-4 å¤© | é˜¶æ®µ 1 |
| é˜¶æ®µ 3 | å‰ç«¯ç»„ä»¶å¼€å‘ | 4-5 å¤© | é˜¶æ®µ 2 |
| é˜¶æ®µ 4 | æƒé™æ§åˆ¶é›†æˆ | 3-4 å¤© | é˜¶æ®µ 2, 3 |
| é˜¶æ®µ 5 | è‡ªåŠ¨åŒ–ä»»åŠ¡å’Œæé†’ | 2-3 å¤© | é˜¶æ®µ 2 |
| é˜¶æ®µ 6 | å›½é™…åŒ–å’Œç”¨æˆ·ä½“éªŒä¼˜åŒ– | 2 å¤© | é˜¶æ®µ 3 |
| é˜¶æ®µ 7 | æµ‹è¯•å’Œä¿®å¤ | 3-4 å¤© | é˜¶æ®µ 1-6 |
| é˜¶æ®µ 8 | æ•°æ®è¿ç§»å’Œä¸Šçº¿ | 2-3 å¤© | é˜¶æ®µ 7 |

**æ€»è®¡**ï¼š22-30 å¤©ï¼ˆçº¦ 1 ä¸ªæœˆï¼‰

---

## ğŸ¯ é‡Œç¨‹ç¢‘

### é‡Œç¨‹ç¢‘ 1ï¼šæ•°æ®åº“å’Œåç«¯å®Œæˆï¼ˆç¬¬ 1 å‘¨ï¼‰
- âœ… æ•°æ®åº“è¡¨åˆ›å»ºå®Œæˆ
- âœ… æ‰€æœ‰ Server Actions å¼€å‘å®Œæˆ
- âœ… å•å…ƒæµ‹è¯•é€šè¿‡

### é‡Œç¨‹ç¢‘ 2ï¼šå‰ç«¯ç•Œé¢å®Œæˆï¼ˆç¬¬ 2-3 å‘¨ï¼‰
- âœ… æ‰€æœ‰è®¢é˜…ç›¸å…³é¡µé¢å¼€å‘å®Œæˆ
- âœ… æƒé™æ§åˆ¶é›†æˆåˆ°ç°æœ‰åŠŸèƒ½
- âœ… å›½é™…åŒ–ç¿»è¯‘å®Œæˆ

### é‡Œç¨‹ç¢‘ 3ï¼šæµ‹è¯•å’Œä¸Šçº¿ï¼ˆç¬¬ 4 å‘¨ï¼‰
- âœ… å…¨é¢æµ‹è¯•é€šè¿‡
- âœ… Bug ä¿®å¤å®Œæˆ
- âœ… ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²æˆåŠŸ

---

## ğŸ“ æ³¨æ„äº‹é¡¹

### æŠ€æœ¯æ³¨æ„äº‹é¡¹

1. **æ•°æ®åº“è¿ç§»**
   - è¿ç§»å‰åŠ¡å¿…å¤‡ä»½æ•°æ®
   - å…ˆåœ¨å¼€å‘ç¯å¢ƒæµ‹è¯•è¿ç§»è„šæœ¬
   - ç”Ÿäº§ç¯å¢ƒè¿ç§»æ—¶é€‰æ‹©ä½å³°æ—¶æ®µ

2. **æƒé™æ£€æŸ¥æ€§èƒ½**
   - æƒé™æ£€æŸ¥å‡½æ•°ä¼šé¢‘ç¹è°ƒç”¨ï¼Œéœ€ä¼˜åŒ–æŸ¥è¯¢
   - è€ƒè™‘ä½¿ç”¨ Redis ç¼“å­˜è®¢é˜…çŠ¶æ€ï¼ˆå¯é€‰ï¼‰
   - æ·»åŠ å¿…è¦çš„æ•°æ®åº“ç´¢å¼•

3. **é’±åŒ…ä½™é¢æ‰£æ¬¾**
   - ä½¿ç”¨æ•°æ®åº“äº‹åŠ¡ç¡®ä¿åŸå­æ€§
   - ä½™é¢ä¸è¶³æ—¶æ­£ç¡®å›æ»š
   - è®°å½•æ‰£æ¬¾æ—¥å¿—

4. **æ—¶åŒºå¤„ç†**
   - ç»Ÿä¸€ä½¿ç”¨ UTC æ—¶é—´å­˜å‚¨
   - å‰ç«¯æ˜¾ç¤ºæ—¶è½¬æ¢ä¸ºæ³°å›½æ—¶åŒºï¼ˆUTC+7ï¼‰

### ä¸šåŠ¡æ³¨æ„äº‹é¡¹

1. **ç°æœ‰å•†æˆ·è¿ç§»**
   - ç»™äºˆåˆç†çš„ç¼“å†²æœŸï¼ˆ30å¤©è¯•ç”¨ï¼‰
   - æå‰é€šçŸ¥å•†æˆ·è®¢é˜…æ”¿ç­–å˜æ›´
   - å‡†å¤‡å®¢æœåº”å¯¹å•†æˆ·ç–‘é—®

2. **æ¨èå¥–åŠ±æˆæœ¬**
   - æ¨èå¥–åŠ±æ˜¯ä½™é¢è€Œéç°é‡‘
   - å®é™…æˆæœ¬ä»…ä¸º Slip2Go API è´¹ç”¨ï¼ˆà¸¿0.08/æ¬¡ï¼‰
   - æ¯ä¸ªæ¨èå•†æˆ·æˆæœ¬çº¦ à¸¿8

3. **è®¢é˜…å®šä»·è°ƒæ•´**
   - ä¿ç•™ä»·æ ¼è°ƒæ•´ç©ºé—´
   - è®¢é˜…æ–¹æ¡ˆè¡¨æ”¯æŒ is_active å­—æ®µ
   - æ–°æ—§æ–¹æ¡ˆå¯å…±å­˜

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¬¬ä¸€æ­¥ï¼šå…‹éš†æœ¬æ–‡æ¡£
```bash
cp SUBSCRIPTION_IMPLEMENTATION_ROADMAP.md SUBSCRIPTION_PROGRESS.md
```

### ç¬¬äºŒæ­¥ï¼šå¼€å§‹é˜¶æ®µ 0
```bash
# 1. æŸ¥çœ‹ç°æœ‰æ•°æ®åº“ç»“æ„
# ä½¿ç”¨ Supabase Studio æˆ– SQL æŸ¥è¯¢

# 2. åˆ†æç°æœ‰ä»£ç 
# é‡ç‚¹æŸ¥çœ‹ï¼š
# - app/actions/products/
# - app/actions/coupons/
# - app/[locale]/merchant/onboarding/
# - components/MerchantSidebar.tsx
```

### ç¬¬ä¸‰æ­¥ï¼šåˆ›å»ºæŠ€æœ¯è®¾è®¡æ–‡æ¡£
åœ¨ `SUBSCRIPTION_TECHNICAL_DESIGN.md` ä¸­è¯¦ç»†è®°å½•ï¼š
- æ•°æ®åº“è¡¨ç»“æ„
- API ç«¯ç‚¹åˆ—è¡¨
- å‰ç«¯ç»„ä»¶æ ‘
- çŠ¶æ€ç®¡ç†æ–¹æ¡ˆ

---

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

åœ¨å®æ–½è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼Œå¯ä»¥ï¼š
1. æŸ¥çœ‹æœ¬æ–‡æ¡£å¯¹åº”é˜¶æ®µçš„è¯¦ç»†è¯´æ˜
2. å‚è€ƒ [SUBSCRIPTION_PLAN_V8_FINAL.md](SUBSCRIPTION_PLAN_V8_FINAL.md) äº†è§£ä¸šåŠ¡é€»è¾‘
3. å‘æˆ‘æé—®å…·ä½“çš„æŠ€æœ¯é—®é¢˜

---

**æ–‡æ¡£ç‰ˆæœ¬**ï¼šv1.0
**åˆ›å»ºæ—¥æœŸ**ï¼š2025-12-21
**æœ€åæ›´æ–°**ï¼š2025-12-21
